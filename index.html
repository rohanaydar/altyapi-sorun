<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnlaÅŸmalÄ± Mahalleler AltyapÄ± Sorun Bildirim Sistemi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <!-- HEADER -->
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-handshake"></i>
                <div>
                    <h1>AnlaÅŸmalÄ± Mahalleler</h1>
                    <p>AltyapÄ± Sorun Bildirim Sistemi</p>
                </div>
            </div>
            
            <nav class="main-nav">
                <a href="index.html" class="active">
                    <i class="fas fa-home"></i> Ana Sayfa
                </a>
                <a href="bildirim-formu.html">
                    <i class="fas fa-plus-circle"></i> Bildirim Yap
                </a>
                <a href="harita-gorunumu.html">
                    <i class="fas fa-map"></i> Harita GÃ¶rÃ¼nÃ¼mÃ¼
                </a>
                <button class="btn-admin" id="adminBtn">
                    <i class="fas fa-user-shield"></i> Admin
                </button>
            </nav>
        </div>
    </header>

    <!-- BaÅŸ MenÃ¼ -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Mahallenizdeki AltyapÄ± SorunlarÄ±nÄ± Bildirin</h2>
                <p>AnlaÅŸmalÄ± mahallelerdeki altyapÄ± sorunlarÄ±nÄ± hÄ±zlÄ±ca bildirin, takip edin, Ã§Ã¶zÃ¼me ulaÅŸtÄ±rÄ±n.</p>
                
                <div class="hero-buttons">
                    <a href="bildirim-formu.html" class="btn btn-primary btn-large">
                        <i class="fas fa-bell"></i> Yeni Bildirim Yap
                    </a>
                    <a href="harita-gorunumu.html" class="btn btn-secondary btn-large">
                        <i class="fas fa-map-marked-alt"></i> Haritada GÃ¶rÃ¼ntÃ¼le
                    </a>
                </div>
            </div>
            
            <div class="hero-stats">
                <div class="stat-card">
                    <i class="fas fa-check-circle"></i>
                    <h3 id="cozulenBildirim">0</h3>
                    <p>Ã‡Ã¶zÃ¼len Bildirim</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-city"></i>
                    <h3 id="toplamSehir">19</h3>
                    <p>AnlaÅŸmalÄ± Åehir</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <h3 id="aktifMahalle">0</h3>
                    <p>Aktif Mahalle</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-clock"></i>
                    <h3>24s</h3>
                    <p>Ort. YanÄ±t SÃ¼resi</p>
                </div>
            </div>
        </div>
    </section>

    <!-- NasÄ±l Ã‡alÄ±ÅŸÄ±r -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h2>
            
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Konum SeÃ§</h3>
                    <p>Åehir, ilÃ§e, mahalle ve sokaÄŸÄ±nÄ±zÄ± seÃ§in</p>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h3>Problem Belirt</h3>
                    <p>Problem tipini ve Ã¶nceliÄŸini seÃ§in</p>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>FotoÄŸraf Ekle</h3>
                    <p>Ä°steÄŸe baÄŸlÄ± fotoÄŸraf ve iletiÅŸim ekleyin</p>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-icon">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                    <h3>GÃ¶nder ve Takip Et</h3>
                    <p>Bildirimi gÃ¶nderin ve takip kodunuzla takip edin</p>
                </div>
            </div>
        </div>
    </section>

    <!-- PROBLEM TYPES -->
    <section class="problem-types">
        <div class="container">
            <h2 class="section-title">BildirebileceÄŸiniz Problemler</h2>
            
            <div class="problems-grid">
                <div class="problem-card">
                    <div class="problem-icon">ğŸš§</div>
                    <h3>Yol BozukluÄŸu</h3>
                    <p>Ã‡ukur, tÃ¼msek, asfalt bozukluÄŸu</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸ’§</div>
                    <h3>Su BaskÄ±nÄ±</h3>
                    <p>Su ÅŸebekesi patlamasÄ±, sel</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">âš¡</div>
                    <h3>Elektrik Kesintisi</h3>
                    <p>Uzun sÃ¼reli elektrik kesintisi</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸ—‘ï¸</div>
                    <h3>Ã‡Ã¶p Toplama</h3>
                    <p>Ã‡Ã¶p birikmesi, toplanmama</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸš¦</div>
                    <h3>Trafik LambasÄ±</h3>
                    <p>Trafik lambasÄ± arÄ±zasÄ±</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸ’¡</div>
                    <h3>AydÄ±nlatma</h3>
                    <p>Sokak lambasÄ± arÄ±zasÄ±</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸŒ³</div>
                    <h3>Park/BahÃ§e</h3>
                    <p>Park bakÄ±mÄ±, aÄŸaÃ§ budama</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸ—ï¸</div>
                    <h3>Ä°nÅŸaat Molozu</h3>
                    <p>Moloz birikmesi, temizlenmeme</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸš°</div>
                    <h3>Ä°Ã§me Suyu</h3>
                    <p>Ä°Ã§me suyu kesintisi, kalitesi</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">ğŸš½</div>
                    <h3>Kanalizasyon</h3>
                    <p>Kanalizasyon taÅŸmasÄ±, tÄ±kanÄ±klÄ±k</p>
                </div>
                
                <div class="problem-card">
                    <div class="problem-icon">âšœï¸</div>
                    <h3>GÃ¼venlik</h3>
                    <p>GÃ¼venlik aÃ§Ä±ÄŸÄ±, sokak lambasÄ±</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RECENT REPORTS -->
    <section class="recent-reports">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Son Bildirimler</h2>
                <a href="harita-gorunumu.html" class="btn-link">
                    TÃ¼mÃ¼nÃ¼ GÃ¶r <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="reports-grid" id="recentReports">
                <!-- JS ile doldurulacak -->
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-handshake"></i>
                        <div>
                            <h3>AnlaÅŸmalÄ± Mahalleler</h3>
                            <p>AltyapÄ± Sorun Bildirim Sistemi</p>
                        </div>
                    </div>
                    <p class="footer-description">
                        DoÄŸu ve GÃ¼neydoÄŸu bÃ¶lgelerindeki mahallelerde altyapÄ± sorunlarÄ±nÄ±n hÄ±zlÄ± Ã§Ã¶zÃ¼mÃ¼ iÃ§in.
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4>HÄ±zlÄ± BaÄŸlantÄ±lar</h4>
                    <ul>
                        <li><a href="index.html">Ana Sayfa</a></li>
                        <li><a href="bildirim-formu.html">Bildirim Yap</a></li>
                        <li><a href="harita-gorunumu.html">Harita GÃ¶rÃ¼nÃ¼mÃ¼</a></li>
                        <li><a href="#" id="footerAdminBtn">Admin Paneli</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Ä°letiÅŸim</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-phone"></i> 0412 123 45 67</li>
                        <li><i class="fas fa-envelope"></i> altyapi@anlasmalimahalleler.gov.tr</li>
                        <li><i class="fas fa-map-marker-alt"></i> DoÄŸu ve GÃ¼neydoÄŸu BÃ¶lgesi</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>BÃ¶lge Åehirleri</h4>
                    <div class="cities-list">
                        <span>DiyarbakÄ±r</span>
                        <span>ÅanlÄ±urfa</span>
                        <span>Gaziantep</span>
                        <span>Mardin</span>
                        <span>Batman</span>
                        <span>Siirt</span>
                        <span>ÅÄ±rnak</span>
                        <span>Hakkari</span>
                        <span>Van</span>
                        <span>MuÅŸ</span>
                        <span>Bitlis</span>
                        <span>BingÃ¶l</span>
                        <span>Tunceli</span>
                        <span>ElazÄ±ÄŸ</span>
                        <span>Malatya</span>
                        <span>AdÄ±yaman</span>
                        <span>Kilis</span>
                        <span>Osmaniye</span>
                        <span>Hatay</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>Â© 2024 AnlaÅŸmalÄ± Mahalleler AltyapÄ± Sorun Bildirim Sistemi. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
                <p class="disclaimer">
                    Bu sistem sadece bildirim amaÃ§lÄ±dÄ±r. Acil durumlarda 112'yi arayÄ±nÄ±z.
                </p>
            </div>
        </div>
    </footer>

    <!-- ADMIN LOGIN MODAL (TAM EKRAN) -->
    <div class="fullscreen-modal" id="adminLoginModal">
        <div class="modal-content">
            <button class="close-modal" id="closeAdminModal">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="admin-login-container">
                <div class="login-header">
                    <div class="login-icon">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <h2>Admin Paneli GiriÅŸi</h2>
                    <p>Yetkili eriÅŸimi iÃ§in kimlik doÄŸrulama gereklidir</p>
                </div>
                
                <form id="adminLoginForm" class="login-form">
                    <div class="form-group">
                        <label for="adminUsername">
                            <i class="fas fa-user"></i> KullanÄ±cÄ± AdÄ±
                        </label>
                        <input type="text" id="adminUsername" placeholder="mardinli" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminPassword">
                            <i class="fas fa-key"></i> Åifre
                        </label>
                        <input type="password" id="adminPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                        <div class="password-toggle">
                            <i class="fas fa-eye" id="togglePassword"></i>
                        </div>
                    </div>
                    
                    <div id="loginError" class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>HatalÄ± kullanÄ±cÄ± adÄ± veya ÅŸifre!</span>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> GiriÅŸ Yap
                    </button>
                    
                    <div class="login-footer">
                        <p><i class="fas fa-info-circle"></i> Sadece yetkili personel eriÅŸebilir</p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
    <script src="veriler.js"></script>
    <script src="database.js"></script>
    <script src="utils.js"></script>
    <script src="app.js"></script>
    <script>
        // Admin butonlarÄ±
        document.getElementById('adminBtn').addEventListener('click', openAdminLogin);
        document.getElementById('footerAdminBtn').addEventListener('click', openAdminLogin);
        
        // Admin giriÅŸ modal'Ä±nÄ± aÃ§
        function openAdminLogin(e) {
            e.preventDefault();
            document.getElementById('adminLoginModal').classList.add('active');
        }
        
        // Admin modal'Ä± kapat
        document.getElementById('closeAdminModal').addEventListener('click', function() {
            document.getElementById('adminLoginModal').classList.remove('active');
            document.getElementById('loginError').style.display = 'none';
            document.getElementById('adminLoginForm').reset();
        });
        
        // Åifre gÃ¶ster/gizle
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('adminPassword');
            const icon = this;
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
        
        // Admin giriÅŸ formu
        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            // Sabit admin bilgileri
            const ADMIN_USERNAME = 'mardinli';
            const ADMIN_PASSWORD = 'amed2147';
            
            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
                // GiriÅŸ baÅŸarÄ±lÄ± - Admin paneline yÃ¶nlendir
                window.location.href = 'admin-paneli.html';
            } else {
                // GiriÅŸ baÅŸarÄ±sÄ±z
                document.getElementById('loginError').style.display = 'flex';
                document.getElementById('adminPassword').value = '';
                document.getElementById('adminPassword').focus();
            }
        });
        
        // Ä°statistikleri yÃ¼kle
        document.addEventListener('DOMContentLoaded', function() {
            // Ã–rnek veriler
            document.getElementById('cozulenBildirim').textContent = '1,247';
            document.getElementById('aktifMahalle').textContent = '156';
            
            // Son bildirimleri yÃ¼kle
            loadRecentReports();
        });
        
        function loadRecentReports() {
            const container = document.getElementById('recentReports');
            
            // Ã–rnek veriler
            const reports = [
                {
                    id: 'DB-20240001',
                    il: 'DiyarbakÄ±r',
                    ilce: 'BaÄŸlar',
                    mahalle: 'Kaynartepe',
                    problem: 'Yol BozukluÄŸu',
                    tarih: '10:30',
                    durum: 'approved'
                },
                {
                    id: 'DB-20240002',
                    il: 'Mardin',
                    ilce: 'Artuklu',
                    mahalle: 'Merkez',
                    problem: 'AydÄ±nlatma',
                    tarih: '14:15',
                    durum: 'pending'
                },
                {
                    id: 'DB-20240003',
                    il: 'ÅanlÄ±urfa',
                    ilce: 'EyyÃ¼biye',
                    mahalle: 'Åair Nabi',
                    problem: 'Su BaskÄ±nÄ±',
                    tarih: '09:45',
                    durum: 'completed'
                }
            ];
            
            container.innerHTML = reports.map(report => `
                <div class="report-card">
                    <div class="report-header">
                        <div class="report-location">
                            <h4>${report.il} - ${report.ilce}</h4>
                            <p>${report.mahalle}</p>
                        </div>
                        <span class="status-badge status-${report.durum}">
                            ${report.durum === 'pending' ? 'Bekliyor' : 
                              report.durum === 'approved' ? 'OnaylandÄ±' : 'TamamlandÄ±'}
                        </span>
                    </div>
                    <div class="report-body">
                        <p><i class="fas fa-exclamation-triangle"></i> ${report.problem}</p>
                        <div class="report-footer">
                            <span><i class="fas fa-hashtag"></i> ${report.id}</span>
                            <span><i class="fas fa-clock"></i> ${report.tarih}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
